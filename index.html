<!DOCTYPE html>
<html>
<head>
    <title>Boxing Event Incentive Drivers</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/face-detection"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_detection"></script>
</head>
<body>
    <div style="display: flex; align-items: flex-start;">
        <div style="flex: 1; padding: 20px;">
            <h1>Incentive Drivers for Boxing Events</h1>
            <ul>
                <li>Pay-Per-View Revenue</li>
                <li>Sponsorship Deals</li>
                <li>Ticket Sales</li>
                <li>High-Profile Matchups</li>
                <li>International Exposure</li>
                <li>Media Coverage</li>
            </ul>
        </div>
        <div style="flex: 2;">
            <h1>Real-time Face Detection with Landmarks</h1>
            <video id="webcam" autoplay playsinline></video>
            <canvas id="canvas" width="640" height="480"></canvas>
        </div>
    </div>

    <script>
        async function setupCamera() {
            const video = document.getElementById('webcam');

            const stream = await navigator.mediaDevices.getUserMedia({ 'video': true });
            video.srcObject = stream;

            return new Promise((resolve) => {
                video.onloadedmetadata = () => {
                    resolve(video);
                };
            });
        }

        async function detectFaces() {
            const video = await setupCamera();
            video.play();

            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');

            const model = faceDetection.SupportedModels.MediaPipeFaceDetector;
            const detectorConfig = {
                runtime: 'mediapipe',
                solutionPath: 'https://cdn.jsdelivr.net/npm/@mediapipe/face_detection',
            };
            const detector = await faceDetection.createDetector(model, detectorConfig);

            async function renderPrediction() {
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;

                const faces = await detector.estimateFaces(video);

                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

                faces.forEach(face => {
                    const boundingBox = face.boundingBox;
                    ctx.strokeStyle = '#00FF00';
                    ctx.lineWidth = 2;
                    ctx.strokeRect(boundingBox.xMin, boundingBox.yMin, boundingBox.width, boundingBox.height);

                    face.keypoints.forEach(keypoint => {
                        ctx.fillStyle = '#FF0000';
                        ctx.fillRect(keypoint.x, keypoint.y, 5, 5);
                    });
                });

                requestAnimationFrame(renderPrediction);
            }

            renderPrediction();
        }

        detectFaces();
    </script>
</body>
</html>
